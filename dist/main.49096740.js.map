{"version":3,"sources":["main.js"],"names":["$dlg","$","$cancelBtn","$siteList","$deleteBtn","$finishBtn","siteStorage","JSON","parse","localStorage","getItem","siteList","siteName","siteLink","siteLetter","dlg","show","site","val","removeClass","hide","reload","loadSiteList","addClass","selIndex","loadEvent","htmlList","forEach","index","html","push","join","click","e","target","dataset","stopPropagation","preventDefault","getSite","splice","window","onbeforeunload","setItem","stringify","name","url","simplifyUrl","toUpperCase","replace"],"mappings":"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","file":"main.49096740.js","sourceRoot":"..\\src","sourcesContent":["const $dlg = $(\".dlg-container\");\r\nconst $cancelBtn = $(\".cancel-btn\");\r\nconst $siteList = $(\".site-list\");\r\nconst $deleteBtn = $(\".delete-btn\");\r\nconst $finishBtn = $(\".finish-btn\");\r\nconst siteStorage = JSON.parse(localStorage.getItem(\"siteStorage\"));\r\nconst siteList = siteStorage || [\r\n    {\r\n        siteName: 'CSDN',\r\n        siteLink: 'https://www.csdn.net/',\r\n        siteLetter: 'D'\r\n    },\r\n    {\r\n        siteName: 'GitHub',\r\n        siteLink: 'https://github.com/',\r\n        siteLetter: 'G'\r\n    },\r\n    {\r\n        siteName: '掘金',\r\n        siteLink: 'https://juejin.im/',\r\n        siteLetter: 'J'\r\n    },\r\n    \r\n];\r\nconst dlg = {\r\n    show: (site={siteName:'',siteLink:''})=>{\r\n        const {siteName,siteLink} = site;\r\n        $(\"#siteName\").val(siteName);\r\n        $(\"#siteLink\").val(siteLink);\r\n        $dlg.removeClass(\"hide-dlg\");\r\n    },\r\n    hide: (reload=false)=>{\r\n        if(reload){ \r\n            loadSiteList();\r\n        }\r\n        $dlg.addClass(\"hide-dlg\");\r\n    },\r\n    selIndex: null,\r\n};\r\nloadEvent();\r\nloadSiteList();\r\n\r\n//加载网站列表\r\nfunction loadSiteList(){\r\n    const htmlList = [];\r\n    siteList.forEach((site,index)=>{\r\n        const html = `\r\n        <a href=\"${site.siteLink}\" target=\"_blank\">\r\n            <li class=\"site-item\">\r\n                <div class=\"icon\">${site.siteLetter}</div>\r\n                <div class=\"title\">${site.siteName}</div>\r\n                <button data-index=\"${index}\" class=\"list-more\" title=\"修改快捷方式\"></button>\r\n            </li>\r\n        </a>`;\r\n        htmlList.push(html);\r\n    });\r\n    htmlList.push(\r\n        `<li class=\"site-item\" id=\"addSite\">\r\n            <div class=\"icon add-icon\"></div>\r\n            <div class=\"title\">添加快捷方式</div>\r\n        </li>`\r\n    );\r\n    $siteList.html(htmlList.join(\"\"));\r\n    $(\"#addSite\").click((e)=>{\r\n        dlg.selIndex = null;\r\n        dlg.show();\r\n    });\r\n    $(\".list-more\").click((e)=>{\r\n        const {index} = e.target.dataset;\r\n        dlg.selIndex = index;\r\n        dlg.show(siteList[index]);\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n    });\r\n}\r\n//加载事件\r\nfunction loadEvent(){\r\n    $cancelBtn.click((e)=>{\r\n        dlg.hide();\r\n    });\r\n    $finishBtn.click((e)=>{\r\n        const siteName = $(\"#siteName\").val();\r\n        const siteLink = $(\"#siteLink\").val();\r\n        if(siteName && siteLink) {\r\n            const site = getSite(siteName,siteLink);\r\n            if(dlg.selIndex<siteList){\r\n                siteList[dlg.selIndex] = site;\r\n            }else{\r\n                siteList.push(site);\r\n            }\r\n            dlg.hide(true);\r\n        }\r\n    });\r\n    $deleteBtn.click(()=>{\r\n        if(dlg.selIndex){\r\n            siteList.splice(dlg.selIndex,1);\r\n        }\r\n        dlg.hide(true);\r\n    });\r\n    window.onbeforeunload = ()=>{\r\n        localStorage.setItem(\"siteStorage\",JSON.stringify(siteList));\r\n    };\r\n}\r\n\r\nfunction getSite(name,url){\r\n    const siteLetter = simplifyUrl(url)[0].toUpperCase();\r\n    return {\r\n        siteName: name,\r\n        siteLink: url,\r\n        siteLetter: siteLetter\r\n    };\r\n}\r\n\r\nfunction simplifyUrl(url){\r\n    return url.replace('https://', '')\r\n      .replace('http://', '')\r\n      .replace('www.', '')\r\n      .replace(/\\/.*/, '') // 删除 / 开头的内容\r\n  }"]}